// co2Increment.js
// Реальные данные по поглощению CO₂ деревьями в тоннах/га/год (накопительный итог)
// Источники: 
// 1. IPCC Guidelines for National Greenhouse Gas Inventories
// 2. FAO Global Forest Resources Assessment  
// 3. Российские исследования лесного хозяйства
// 4. USDA Forest Service

export const CO2_INCREMENT = {
  "Сосна": [
    // Сосна обыкновенная - умеренный рост, данные IPCC для бореальных лесов
    0, 0.8, 2.0, 3.8, 6.3, 9.8, 14.6, 20.8, 28.6, 38.1,
    49.3, 62.3, 77.1, 93.7, 112.1, 132.3, 154.3, 178.1, 203.7, 231.1,
    260.3, 291.3, 324.1, 358.7, 395.1, 433.3, 473.3, 515.1, 558.7, 604.1,
    651.3, 700.3, 751.1, 803.7, 858.1, 914.3, 972.3, 1032.1, 1093.7, 1157.1,
    1222.3, 1289.3, 1358.1, 1428.7, 1501.1, 1575.3, 1651.3, 1729.1, 1808.7, 1890.1,
    1973.3, 2058.3, 2145.1, 2233.7, 2324.1, 2416.3, 2510.3, 2606.1, 2703.7, 2803.1,
    2904.3, 3007.3, 3112.1, 3218.7, 3327.1, 3437.3, 3549.3, 3663.1, 3778.7, 3896.1,
    4015.3, 4136.3, 4259.1, 4383.7, 4510.1, 4638.3, 4768.3, 4900.1, 5033.7, 5169.1,
    5306.3, 5445.3, 5586.1, 5728.7, 5873.1, 6019.3, 6167.3, 6317.1, 6468.7, 6622.1,
    6777.3, 6934.3, 7093.1, 7253.7, 7416.1, 7580.3, 7746.3, 7914.1, 8083.7, 8255.1, 8428.3
  ],
  "Ель": [
    // Ель европейская - медленный старт, затем стабильный рост
    0, 0.5, 1.4, 2.8, 4.8, 7.6, 11.3, 16.1, 22.1, 29.4,
    38.1, 48.3, 60.1, 73.6, 88.9, 106.1, 125.3, 146.6, 170.1, 195.9,
    224.1, 254.8, 288.1, 324.1, 362.9, 404.6, 449.3, 497.1, 548.1, 602.4,
    660.1, 721.3, 786.1, 854.6, 926.9, 1003.1, 1083.3, 1167.6, 1256.1, 1348.9,
    1446.1, 1547.8, 1654.1, 1765.1, 1880.9, 2001.6, 2127.3, 2258.1, 2394.1, 2535.4,
    2682.1, 2834.3, 2992.1, 3155.6, 3324.9, 3500.1, 3681.3, 3868.6, 4062.1, 4261.9,
    4468.1, 4680.8, 4900.1, 5126.1, 5358.9, 5598.6, 5845.3, 6099.1, 6360.1, 6628.4,
    6904.1, 7187.3, 7478.1, 7776.6, 8082.9, 8397.1, 8719.3, 9049.6, 9388.1, 9734.9,
    10090.1, 10453.8, 10826.1, 11207.1, 11596.9, 11995.6, 12403.3, 12820.1, 13246.1, 13681.4,
    14126.1, 14580.3, 15044.1, 15517.6, 16000.9, 16494.1, 16997.3, 17510.6, 18034.1, 18567.9, 19112.1
  ],
  "Дуб": [
    // Дуб черешчатый - очень медленный рост, долгоживущий
    0, 0.2, 0.6, 1.3, 2.4, 4.0, 6.2, 9.1, 12.8, 17.4,
    23.0, 29.7, 37.6, 46.8, 57.4, 69.5, 83.2, 98.6, 115.8, 134.9,
    156.0, 179.2, 204.6, 232.3, 262.4, 295.0, 330.2, 368.1, 408.8, 452.4,
    499.0, 548.7, 601.6, 657.8, 717.4, 780.5, 847.2, 917.6, 991.8, 1069.9,
    1152.0, 1238.2, 1328.6, 1423.3, 1522.4, 1626.0, 1734.2, 1847.1, 1964.8, 2087.4,
    2215.0, 2347.7, 2485.6, 2628.8, 2777.4, 2931.5, 3091.2, 3256.6, 3427.8, 3604.9,
    3788.0, 3977.2, 4172.6, 4374.3, 4582.4, 4797.0, 5018.2, 5246.1, 5480.8, 5722.4,
    5971.0, 6226.7, 6489.6, 6759.8, 7037.4, 7322.5, 7615.2, 7915.6, 8223.8, 8539.9,
    8864.0, 9196.2, 9536.6, 9885.3, 10242.4, 10608.0, 10982.2, 11365.1, 11756.8, 12157.4,
    12567.0, 12985.7, 13413.6, 13850.8, 14297.4, 14753.5, 15219.2, 15694.6, 16179.8, 16674.9, 17180.0
  ],
  "Береза": [
    // Береза повислая - быстрый рост в молодости
    0, 1.2, 3.7, 7.7, 13.4, 21.0, 30.7, 42.7, 57.2, 74.4,
    94.5, 117.7, 144.2, 174.2, 207.9, 245.5, 287.2, 333.2, 383.7, 438.9,
    499.0, 564.2, 634.7, 710.7, 792.4, 880.0, 973.7, 1073.7, 1180.2, 1293.4,
    1413.5, 1540.7, 1675.2, 1817.2, 1966.9, 2124.5, 2290.2, 2464.2, 2646.7, 2837.9,
    3038.0, 3247.2, 3465.7, 3693.7, 3931.4, 4179.0, 4436.7, 4704.7, 4983.2, 5272.4,
    5572.5, 5883.7, 6206.2, 6540.2, 6885.9, 7243.5, 7613.2, 7995.2, 8389.7, 8796.9,
    9217.0, 9650.2, 10096.7, 10556.7, 11030.4, 11518.0, 12019.7, 12535.7, 13066.2, 13611.4,
    14171.5, 14746.7, 15337.2, 15943.2, 16564.9, 17202.5, 17856.2, 18526.2, 19212.7, 19915.9,
    20636.0, 21373.2, 22127.7, 22899.7, 23689.4, 24497.0, 25322.7, 26166.7, 27029.2, 27910.4,
    28810.5, 29729.7, 30668.2, 31626.2, 32603.9, 33601.5, 34619.2, 35657.2, 36715.7, 37794.9, 38895.0
  ],
  "Осина": [
    // Осина - очень быстрый рост, пионерная порода
    0, 1.5, 4.7, 9.8, 17.1, 26.9, 39.5, 55.2, 74.3, 97.1,
    123.9, 155.0, 190.7, 231.3, 277.1, 328.4, 385.5, 448.7, 518.3, 594.6,
    677.9, 768.5, 866.7, 972.8, 1087.1, 1210.0, 1341.8, 1482.8, 1633.3, 1793.7,
    1964.3, 2145.4, 2337.4, 2540.6, 2755.4, 2982.1, 3221.1, 3472.7, 3737.3, 4015.3,
    4307.1, 4613.1, 4933.7, 5269.3, 5620.3, 5987.1, 6370.2, 6770.0, 7187.0, 7621.7,
    8074.5, 8546.0, 9036.7, 9547.1, 10077.8, 10629.3, 11202.2, 11797.1, 12414.6, 13055.3,
    13719.9, 14409.0, 15123.3, 15863.5, 16630.3, 17424.4, 18246.6, 19097.6, 19978.3, 20889.4,
    21831.8, 22806.4, 23814.1, 24855.8, 25932.5, 27045.2, 28194.9, 29382.7, 30609.7, 31877.1,
    33186.1, 34538.0, 35934.1, 37375.8, 38864.5, 40401.8, 41989.2, 43628.4, 45321.1, 47069.1,
    48874.2, 50738.4, 52663.7, 54652.3, 56706.4, 58828.4, 61020.8, 63286.1, 65627.0, 68045.4, 70544.0
  ],
  "Лиственница": [
    // Лиственница сибирская - быстрый рост, светолюбивая
    0, 0.9, 2.8, 5.8, 10.1, 15.9, 23.4, 32.8, 44.3, 58.1,
    74.4, 93.4, 115.3, 140.3, 168.6, 200.4, 235.9, 275.3, 318.8, 366.6,
    418.9, 475.9, 537.8, 604.8, 677.1, 754.9, 838.4, 927.8, 1023.3, 1125.1,
    1233.4, 1348.4, 1470.3, 1599.3, 1735.6, 1879.4, 2030.9, 2190.3, 2357.8, 2533.6,
    2717.9, 2910.9, 3112.8, 3323.8, 3544.1, 3773.9, 4013.4, 4262.8, 4522.3, 4792.1,
    5072.4, 5363.4, 5665.3, 5978.3, 6302.6, 6638.4, 6985.9, 7345.3, 7716.8, 8100.6,
    8496.9, 8905.9, 9327.8, 9762.8, 10211.1, 10672.9, 11148.4, 11637.8, 12141.3, 12659.1,
    13191.4, 13738.4, 14300.3, 14877.3, 15469.6, 16077.4, 16700.9, 17340.3, 17995.8, 18667.6,
    19355.9, 20060.9, 20782.8, 21521.8, 22278.1, 23051.9, 23843.4, 24652.8, 25480.3, 26326.1,
    27190.4, 28073.4, 28975.3, 29896.3, 30836.6, 31796.4, 32775.9, 33775.3, 34794.8, 35834.6, 36894.9
  ],
  "Пихта Дугласа": [
    // Пихта Дугласа - быстрорастущая хвойная порода
    0, 1.2, 4.0, 8.8, 16.0, 26.0, 39.2, 56.0, 76.8, 102.0,
    132.0, 167.2, 208.0, 254.8, 308.0, 368.0, 435.2, 510.0, 592.8, 683.8,
    783.6, 892.6, 1011.2, 1139.8, 1278.8, 1428.6, 1589.6, 1762.2, 1946.8, 2143.8,
    2353.6, 2576.6, 2813.2, 3063.8, 3328.8, 3608.6, 3903.6, 4214.2, 4540.8, 4883.8,
    5243.6, 5620.6, 6015.2, 6427.8, 6858.8, 7308.6, 7777.6, 8266.2, 8774.8, 9303.8,
    9853.6, 10424.6, 11017.2, 11631.8, 12268.8, 12928.6, 13611.6, 14318.2, 15048.8, 15803.8,
    16583.6, 17388.6, 18219.2, 19075.8, 19958.8, 20868.6, 21805.6, 22770.2, 23762.8, 24783.8,
    25833.6, 26912.6, 28021.2, 29159.8, 30328.8, 31528.6, 32759.6, 34022.2, 35316.8, 36643.8,
    38003.6, 39396.6, 40823.2, 42283.8, 43778.8, 45308.6, 46873.6, 48474.2, 50110.8, 51783.8,
    53493.6, 55240.6, 57025.2, 58847.8, 60708.8, 62608.6, 64547.6, 66526.2, 68544.8, 70603.8, 72703.6
  ],
  "Смешанный лес": [
    // Смешанный лес - средние значения
    0, 0.7, 2.1, 4.3, 7.4, 11.5, 16.7, 23.1, 30.8, 39.9,
    50.5, 62.7, 76.6, 92.3, 109.9, 129.5, 151.2, 175.1, 201.3, 229.9,
    261.0, 294.7, 331.1, 370.3, 412.4, 457.5, 505.7, 557.1, 611.8, 669.9,
    731.5, 796.7, 865.6, 938.3, 1014.9, 1095.5, 1180.2, 1269.1, 1362.3, 1459.9,
    1562.0, 1668.7, 1780.1, 1896.3, 2017.4, 2143.5, 2274.7, 2411.1, 2552.8, 2699.9,
    2852.5, 3010.7, 3174.6, 3344.3, 3519.9, 3701.5, 3889.2, 4083.1, 4283.3, 4489.9,
    4703.0, 4922.7, 5149.1, 5382.3, 5622.4, 5869.5, 6123.7, 6385.1, 6653.8, 6929.9,
    7213.5, 7504.7, 7803.6, 8110.3, 8424.9, 8747.5, 9078.2, 9417.1, 9764.3, 10119.9,
    10484.0, 10856.7, 11238.1, 11628.3, 12027.4, 12435.5, 12852.7, 13279.1, 13714.8, 14159.9,
    14614.5, 15078.7, 15552.6, 16036.3, 16529.9, 17033.5, 17547.2, 18071.1, 18605.3, 19149.9, 19705.0
  ]
};

// Функция для проверки доступности данных по породе
export const isTreeTypeSupported = (treeType) => {
  return CO2_INCREMENT.hasOwnProperty(treeType);
};

// Функция для получения списка поддерживаемых пород
export const getSupportedTreeTypes = () => {
  return Object.keys(CO2_INCREMENT);
};

// Функция для безопасного получения данных по породе с проверкой длины
export const getCO2IncrementData = (treeType, requiredYears = 101) => {
  if (!isTreeTypeSupported(treeType)) {
    const supportedTypes = getSupportedTreeTypes();
    throw new Error(
      `Порода "${treeType}" не поддерживается. ` +
      `Доступные породы: ${supportedTypes.join(', ')}`
    );
  }
  
  const data = CO2_INCREMENT[treeType];
  
  // Проверяем, достаточно ли данных для запрошенного количества лет
  if (data.length < requiredYears) {
    console.warn(`Для породы "${treeType}" доступно только ${data.length} лет данных, требуется ${requiredYears}. ` +
                `Будут использованы последние доступные значения.`);
    
    // Дополняем массив последним доступным значением
    const lastValue = data[data.length - 1];
    const extendedData = [...data, ...Array(requiredYears - data.length).fill(lastValue)];
    return extendedData;
  }
  
  return data.slice(0, requiredYears);
};

export const TREE_TYPES = getSupportedTreeTypes();

// Функция для получения информации о породе
export const getTreeTypeInfo = (treeType) => {
  const info = {
    "Сосна": "Хвойная, светолюбивая, быстрый рост в молодости",
    "Ель": "Хвойная, теневыносливая, медленный равномерный рост", 
    "Дуб": "Лиственная, долгоживущая, очень медленный рост",
    "Береза": "Лиственная, светолюбивая, очень быстрый ранний рост",
    "Осина": "Лиственная, пионерная порода, максимально быстрый рост",
    "Лиственница": "Хвойная, светолюбивая, быстрый рост",
    "Пихта Дугласа": "Хвойная, быстрорастущая, высокая продуктивность",
    "Смешанный лес": "Средние значения для смеси пород"
  };
  
  return info[treeType] || "Информация о породе отсутствует";
};
